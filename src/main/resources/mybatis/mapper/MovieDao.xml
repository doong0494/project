<?xml version="1.0" encoding="UTF-8"?>

<!DOCTYPE mapper
 PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" 
 "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
 
 <mapper namespace="com.movie.dao.IMovieDao">
 
	<select id="MovieList" resultType="com.movie.dto.MovieVO">
		select * from movie
 	</select>
 	
 	<select id="detailOrder" resultType="com.movie.dto.MovieVO">
 		select * from movie where movieno=#{movieno}
 	</select>
 	
	<select id="getMovie" resultType="com.movie.dto.MovieVO">
		select * from movie where movieno=#{movieno}
 	</select>
 	
 	<select id="getAllCount" resultType="com.movie.dto.MovieVO">
 		select count(*) as cnt from movie
 	</select>
 	
 	<select id="selectAll" resultType="com.movie.dto.MovieVO">
 		select * from
		( select * from
		( select rownum as rn, t.*  from
		( select * from movie order by movieno desc) t
		) where rn &gt;= #{param1.startNum} 
		) where rn &lt;= #{param1.endNum} 
 	</select>
 	
	<select id="getGenreDrama" resultType="com.movie.dto.MovieVO">
		select * from movie where genre='8'
 	</select>
 	
 	<select id="getGenreFantasy" resultType="com.movie.dto.MovieVO">
 		select * from movie where genre='7'
 	</select>
 	
 	<select id="getGenreAnimation" resultType="com.movie.dto.MovieVO">
 		select * from movie where genre='6'
 	</select>
 	
 	<select id="getGenreAction" resultType="com.movie.dto.MovieVO">
 		select * from movie where genre='1'
 	</select>

 	<select id="getGenreComedy" resultType="com.movie.dto.MovieVO">
 		select * from movie where genre='4'
 	</select>
 	
 	<select id="getGenreThriller" resultType="com.movie.dto.MovieVO">
 		select * from movie where genre='2'
 	</select>
 	
 	<select id="getGenre" resultType="com.movie.dto.MovieVO">
		select * from movie where genre=#{genre} 		
 	</select>
 	
 	<delete id="deleteMovie" parameterType="com.movie.dto.MovieVO">
 		delete from movie where movieno=#{movieno}
 	</delete>
 	
 	<select id="getMovieOrder" resultType="com.movie.dto.MovieVO">
 		select * from movie where movieno=#{movieno}
 	</select>
 
 </mapper>